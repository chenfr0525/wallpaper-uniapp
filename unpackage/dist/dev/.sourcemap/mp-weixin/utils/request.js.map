{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["export const request = (config = {}) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet {\r\n\t\t\turl,\r\n\t\t\tmethod = 'GET',\r\n\t\t\tdata,\r\n\t\t} = config\r\n\t\tuni.request({\r\n\t\t\turl,\r\n\t\t\tmethod,\r\n\t\t\tdata,\r\n\t\t\theader:{\r\n\t\t\t\t'access-key':'rubychenling525'\r\n\t\t\t},\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.data.errCode === 0){\r\n\t\t\t\t\tresolve(res.data.data)\r\n\t\t\t\t}else if(res.data.errCode === 400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:'错误提示',\r\n\t\t\t\t\t\tcontent:res.data.errMsg,\r\n\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail:(err)=>{\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AAAY,MAAC,UAAU,CAAC,SAAS,OAAO;AACvC,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,QAAI;AAAA,MACH;AAAA,MACA,SAAS;AAAA,MACT;AAAA,IACH,IAAM;AACJA,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAO;AAAA,QACN,cAAa;AAAA,MACb;AAAA,MACD,SAAS,CAAC,QAAQ;AACjB,YAAI,IAAI,KAAK,YAAY,GAAE;AAC1B,kBAAQ,IAAI,KAAK,IAAI;AAAA,QACrB,WAAQ,IAAI,KAAK,YAAY,KAAI;AACjCA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,YACjB,YAAW;AAAA,UACjB,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACpB,OAAS;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UACX,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACf;AAAA,MACD;AAAA,MACD,MAAK,CAAC,QAAM;AACX,eAAO,GAAG;AAAA,MACV;AAAA,IACJ,CAAG;AAAA,EACH,CAAE;AACF;;"}