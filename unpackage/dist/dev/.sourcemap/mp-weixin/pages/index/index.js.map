{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\timport {\r\n\t\tapiBannerList,\r\n\t\tapiDayrecomList,\r\n\t\tapiNoticeList,\r\n\t\tapiSelectList\r\n\t} from '../../api/api.js'\r\n\timport {\r\n\t\tonShareAppMessage,\r\n\t\tonShareTimeline\r\n\t} from \"@dcloudio/uni-app\"\r\n\r\n\tconst bannerList = ref([])\r\n\tconst dayrecomList = ref([])\r\n\tconst noticeList = ref([])\r\n\tconst selectList = ref([])\r\n\r\n\t//获取banner数据\r\n\tconst getBannerList = async () => {\r\n\t\tlet res = await apiBannerList()\r\n\t\tbannerList.value = res\r\n\t}\r\n\r\n\t//获取每日推荐壁纸\r\n\tconst getDayrecomList = async () => {\r\n\t\tlet res = await apiDayrecomList()\r\n\t\tdayrecomList.value = res\r\n\t}\r\n\r\n\r\n\t//获取公告信息\r\n\tconst getNoticeList = async () => {\r\n\t\tlet res = await apiNoticeList({\r\n\t\t\tselect: true,\r\n\t\t})\r\n\t\tnoticeList.value = res\r\n\t}\r\n\t//获取主题推荐\r\n\tconst getSelectList = async () => {\r\n\t\tlet res = await apiSelectList({\r\n\t\t\tselect: true\r\n\t\t})\r\n\t\tselectList.value = res\r\n\t}\r\n\r\n\t//跳转preview页面\r\n\tconst goPreview = (id) => {\r\n\t\tuni.setStorageSync('theme-classify', dayrecomList.value)\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/preview/preview?id=${id}`\r\n\t\t})\r\n\t}\r\n\t//分享给朋友\r\n\tonShareAppMessage((e) => {\r\n\t\treturn {\r\n\t\t\ttitle: '咸虾米壁纸',\r\n\t\t\tpath: 'pages/index/index'\r\n\t\t}\r\n\t})\r\n\t//分享朋友圈\r\n\tonShareTimeline((e) => {\r\n\t\tconsole.log(e)\r\n\t\treturn {\r\n\t\t\ttitle: '咸虾米壁纸'\r\n\t\t}\r\n\t})\r\n\r\n\tgetBannerList()\r\n\tgetDayrecomList()\r\n\tgetNoticeList()\r\n\tgetSelectList()\r\n</script>\r\n\r\n\r\n<template>\r\n\t<view class=\"homeLayout pageBg\">\r\n\t\t<custom-navbar title=\"推荐\"></custom-navbar>\r\n\t\t<view class=\"banner\">\r\n\t\t\t<swiper indicator-dots indicator-color=\"rgba(255,255,255,0.5)\" indicator-active-color=\"#FFF\" autoplay>\r\n\t\t\t\t<swiper-item v-for=\"item in bannerList\" :key=\"item._id\">\r\n\t\t\t\t\t<navigator v-if=\"item.target==='miniProgram'\" class=\"nav\" :url=\"item.url\" :app-id=\"item.appid\"\r\n\t\t\t\t\t\ttarget=\"miniProgram\">\r\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t\t<navigator v-else class=\"nav\"\r\n\t\t\t\t\t\t:url=\"'/pages/classList/classList?class'+item.url.replace('name','title')\">\r\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"notify\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<uni-icons type=\"sound\" size=\"26\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t<text>公告</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<swiper vertical autoplay circular duration=\"200\" interval=\"1500\">\r\n\t\t\t\t\t<swiper-item v-for=\"item in noticeList\" :key=\"item._id\">\r\n\t\t\t\t\t\t<navigator :url=\"`/pages/notice/detail?id=${item._id}`\">\r\n\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#28b389\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"select\">\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>每日推荐</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<view class=\"date\">\r\n\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"18\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t\t\t<uni-dateformat :date=\"Date.now()\" format=\"dd日\"></uni-dateformat>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<scroll-view scroll-x>\r\n\t\t\t\t\t<view class=\"box\" v-for=\"item in dayrecomList\" :key=\"item._id\" @click=\"goPreview(item._id)\">\r\n\t\t\t\t\t\t<image :src=\"item.smallPicurl\" mode=\"heightFix\"></image>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"theme\">\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>专题精选</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<navigator url=\"/pages/classify/classify\" open-type=\"reLaunch\" class=\"more\">\r\n\t\t\t\t\t\t<text>更多</text>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#28b389\"></uni-icons>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<theme-item v-for=\"item in selectList\" :key=\"item._id\" :item=\"item\"></theme-item>\r\n\t\t\t\t<theme-item :isMore=\"true\"></theme-item>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"safe-area-inset-bottom\"></view>\r\n\t</view>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.homeLayout {\r\n\t\t.banner {\r\n\t\t\twidth: 750rpx;\r\n\t\t\tpadding: 30rpx 0;\r\n\r\n\t\t\tswiper {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 340rpx;\r\n\r\n\t\t\t\t&-item {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tpadding: 0 30rpx;\r\n\r\n\t\t\t\t\t.nav {\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.notify {\r\n\t\t\theight: 80rpx;\r\n\t\t\twidth: 700rpx;\r\n\t\t\tbackground-color: #f9f9f9;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\tborder-radius: 80rpx;\r\n\t\t\tpadding: 0 15rpx;\r\n\r\n\t\t\t.left {\r\n\t\t\t\twidth: 140rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: $brand-theme-color;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.content {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: 100%;\r\n\r\n\t\t\t\tswiper {\r\n\t\t\t\t\theight: 100%;\r\n\r\n\t\t\t\t\tswiper-item {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\twidth: 70rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.select {\r\n\t\t\tpadding-top: 50rpx;\r\n\r\n\t\t\t.date {\r\n\t\t\t\tcolor: $brand-theme-color;\r\n\t\t\t}\r\n\r\n\t\t\t.content {\r\n\t\t\t\twidth: 720rpx;\r\n\t\t\t\tmargin-left: 30rpx;\r\n\t\t\t\tmargin-top: 30rpx;\r\n\r\n\t\t\t\tscroll-view {\r\n\t\t\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t\t\t.box {\r\n\t\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\t\theight: 430rpx;\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tborder-radius: 8rpx;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.box:last-child {\r\n\t\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.theme {\r\n\t\tpadding-top: 50rpx;\r\n\r\n\t\t.more {\r\n\t\t\tcolor: $brand-theme-color;\r\n\t\t}\r\n\r\n\t\t.content {\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t\tdisplay: grid;\r\n\t\t\tgap: 15rpx;\r\n\t\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/23212/Desktop/practiceCode/wallpaper-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","apiBannerList","apiDayrecomList","apiNoticeList","apiSelectList","uni","onShareAppMessage","onShareTimeline"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA,UAAA,aAAAA,cAAA,IAAA,EAAA;AAeA,UAAA,eAAAA,cAAA,IAAA,EAAA;AACA,UAAA,aAAAA,cAAA,IAAA,EAAA;AACA,UAAA,aAAAA,cAAA,IAAA,EAAA;AAGA,UAAA,gBAAA,YAAA;AACA,UAAA,MAAA,MAAAC,sBAAA;AACA,iBAAA,QAAA;AAAA,IACA;AAGA,UAAA,kBAAA,YAAA;AACA,UAAA,MAAA,MAAAC,wBAAA;AACA,mBAAA,QAAA;AAAA,IACA;AAIA,UAAA,gBAAA,YAAA;AACA,UAAA,MAAA,MAAAC,sBAAA;AAAA,QACA,QAAA;AAAA,MACA,CAAA;AACA,iBAAA,QAAA;AAAA,IACA;AAEA,UAAA,gBAAA,YAAA;AACA,UAAA,MAAA,MAAAC,sBAAA;AAAA,QACA,QAAA;AAAA,MACA,CAAA;AACA,iBAAA,QAAA;AAAA,IACA;AAGA,UAAA,YAAA,CAAA,OAAA;AACAC,oBAAAA,MAAA,eAAA,kBAAA,aAAA,KAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,6BAAA,EAAA;AAAA,MACA,CAAA;AAAA,IACA;AAEAC,kBAAA,kBAAA,CAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEAC,kBAAA,gBAAA,CAAA,MAAA;AACAF,oBAAAA,MAAA,MAAA,OAAA,+BAAA,CAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEA,kBAAA;AACA,oBAAA;AACA,kBAAA;AACA,kBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEA,GAAG,WAAW,eAAe;"}